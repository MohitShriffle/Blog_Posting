c
JSON.parse(subject.body)
c
JSON.parse(subject.body)
c
JSON.parse(subject.body)
c
params
user
c
JSON.parse(subject.body)
c
JSON.parse(subject.body)
user
c
user
c
JSON.parse(subject.body)
c
user.present? && user.otp_valid
n
c
user.otp_valid
user
n
c
params
c
cc
c
 Plan.find_by(id: params[:id])
params[:id]
@plan
n
params
c
render json: { plan: plan, content: 'Plan Deleted Successfully.' }, status: :no_content
plan
c
plan1
n
plan1
n
plan1
n
@plan
c
@plan
n
params
@plan
n
otp
n
c
params
JSON.parse(subject.body)
c
JSON.parse(subject.body)
params
c
cc
c
JSON.parse(subject.body)
params
c
subscription
c
JSON.parse(subject.body)
params
c
JSON.parse(subject.body)
c
JSON.parse(subject.body)
c
params
JSON.parse(subject.body)
c
subscription.valid?
n
duration
n
duration
n
auto_renewal
n
auto_renewal
c
JSON.parse(subject.body)
c
JSON.parse(subject.body)
c
false.to_i
auto_renewal
n
auto_renewal
n
c
params
c
[true, false].include?("true")
params
n
auto_renewal
n
plan.nil? || plan.price != params[:price].to_d
plan
n
c
params
c
JSON.parse(subject.body)
params
c
params
auto_renewal
c
auto_renewal
subscription.valid?
c
plan.nil? || plan.price != params[:price].to_d
plan
n
plan
c
params
c
subscription
params
c
params
JSON.parse(subject.body)
params
c
params
JSON.parse(subject.body)
c
subscription.valid?
c
JSON.parse(subject.body)
c
params[:auto_renewal].to_boolean
auto_renewal
c
subscription.valid?
subscription
auto_renewal
c
auto_renewal
c
subscription.valid?
c
subscription
c
subscription.valid?
c
subscription.valid?
c
auto_renewal
c
auto_renewal
c
subscription.valid?
c
subscription
c
[true, false].include?(auto_renewal)
auto_renewal
c
auto_renewal
[true, false].include?(auto_renewal)
auto_renewal
 [true, false].include?("false") 
auto_renewal.to_b
c
params[:auto_renewal]
subscription.save
c
subscription
n
c
params[:auto_renewal]
subscription.persisted?
n
plan.duration == "weekly" ? 7 : 30
n
 plan.nil? || plan.price != params[:price].to_d
n
plan
c
params[:duration]
c
params[:duration]
c
user.reset_otp
c
JSON.parse(subject.body)
c
C
JSON.parse(subject.body)
c
JSON.parse(subject.body)
c
JSON.parse(subject.body)
c
JSON.parse(subject.body)
c
JSON.parse(subject.body)
c
JSON.parse(subject.body)
c
JSON.parse(subject.body)
c
JSON.parse(subject.body)
c
@current_user.subscription
c
@current_user.subscription
c
JSON.parse(subject.body)
c
JSON.parse(subject.body)
c
plan
n
plan
n
params
c
JSON.parse(subject.body)
c
if @plan
@plan
unless @plan end
unless @plan
c
Plan.find_by(params[:id])
c
Plan.find_by(params[:id])
@plan
@plam
c
JSON.parse(subject.body)
c
JSON.parse(subject.body)
c
JSON.parse(subject.body)
c
JSON.parse(subject.body)
c
params
c
JSON.parse(subject.body)
params
c
JSON.parse(subject.body)
