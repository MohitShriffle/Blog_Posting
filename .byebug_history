c
UserMailer.daily_blog_views_report(csv_data).deliver_now
c
mail(to: 'mohitkumravat22@gmail.com', subject: 'Daily Blog Views Report')
n
c
csv_data
c
csv_data
c
find_users_and_blogs_with_five_views
c
find_users_and_blogs_with_five_views
c
format.csv{send_data @users.result.to_csv}
n
c
 BlogView.where(blog: blog, user: self ).count < 5
if BlogView.where(blog: blog, user: self ).count < 5
c
self
c
user
c
user
c
user
@current_user 
@current_user.can_view_blog(@blog)
n
c
@current_user 
 @current_user 
BlogView.where(blog: blog, user: 2).count
BlogView.where(blog: blog, user: @current_user ).count
c
BlogView.where(blog: blog, user: @current_user ).count < 5
c
BlogView.where(blog: blog, user: @current_user ).count < 5c
BlogView.where(blog: blog, user: @current_user ).count < 5
c
 User.all.count
c
 User.all.count
c
10.times do FactoryBot.create(:user) end
 User.all.count
c
 User.all.count
 User.all
c
 User.all
c
 User.all
c
10.times do FactoryBot.create(:user) end
10.times do FactoryBot.create(:user)
10.times do {FactoryBot.create(:user)}
10.times {FactoryBot.create(:user)}
 User.all
c
 User.all
c
subject.body
c
subject.body
c
cc
c
User.count
10.times{user}
User.count
user.count
c
users = User.all
c
users = User.all
c
user
c
@current_user
c
n
@user.verified != true
c
@user.verified
@user
n
@user
c
n
c
n
c
JSON.parse(subject.body)
c
cv
c
JSON.parse(subject.body)
c
JSON.parse(subject.body)
c
JSON.parse(subject.body)
c
JSON.parse(subject.body)
c
JSON.parse(subject.body)
c
JSON.parse(subject.body)
c
params
c
JSON.parse(subject.body)
c
JSON.parse(subject.body)
c
JSON.parse(subject.body)
c
JSON.parse(subject.body)
c
@user
c
JSON.parse(subject.body)
c
User.find_by(otp: params[:otp].to_s)
User.find_by(otp: params[:otp].to_s
params[:otp].to_s
params[:otp]
c
params
user
c
JSON.parse(subject.body)
c
JSON.parse(subject.body)
c
JSON.parse(subject.body)
c
JSON.parse(subject.body)
c
JSON.parse(subject.body)
c
check_can_update
c
check_can_update
c
check_can_update
c
check_can_update
c
check_can_update
c
(@current_user.type == 'Premium') || (@blog.user == @current_user && @blog.modifications_count < 2 )
c
check_can_update
c
 user.verified != false 
c
 user.verified != false c
 user.verified != false
if user.verified != false
c
subscription
n
subscription
c
check_valid_attributes
c
check_valid_attributes
c
check_valid_attributes
c
check_valid_attributes
c
check_valid_attributes
c
check_valid_attributes(params[:auto_renewal])
c
@plan.price == params[:price].to_d
@plan.nil?
params[:price]
params[:price].to_d
(@plan.nil? || @plan.price != params[:price].to_d)
c
check_valid_attributes(params[:auto_renewal])
c
check_valid_attributes(params[:auto_renewal])
c
check_valid_attributes(params[:auto_renewal])
c
duration[@plan.duration.parameterize.underscore.to_sym]
c
@plan.duration.parameterize.underscore.to_sym
"monthly".parameterize.underscore.to_sym
duration[:monthly]
duration[monthly]
duration["monthly"]
duration.@plan.duration
duration
@plan.duration.duration
@plan.duration
plan.duration
c
n
[true, false].include?( params[:auto_renewal].to_s.to_boolean)
n
c
[true, false].include?( params[:auto_renewal]=='true')
n
c
n
c
n
c
render json: {message: "Plan Not Found"} unless plan = Plan.find_by(id: params[:plan_id].to_s)c
render json: {message: "Plan Not Found"} unless plan = Plan.find_by(id: params[:plan_id].to_s)
plan = Plan.find_by(id: params[:plan_id].to_s)render json: {message: "Plan Not Found"} unless plan = Plan.find_by(id: params[:plan_id].to_s)
plan = Plan.find_by(id: params[:plan_id].to_s)
c
n
c
params
if plan.nil? || plan.price != params[:price].to_d
c
params
c
paramsc
params
c
cc
c
@subscription
@subscription.user== @current_user
n
@subscription.user== @current_user
c
 @current_user.id
c
 @current_user.id
@subscription.user.id
@subscription.user== @current_user
@subscription
n
@subscription
c
user
c
can :manage,Subscription, { user:}
can :read, Subscription, user_id: user.id
can :create, Subscription, { user: }
can :create, Subscription, { user: }\
can %i[update destroy], Subscription, { user:}
user
user.blank?
    byebug
c
